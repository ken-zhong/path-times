(this["webpackJsonppath-times"]=this["webpackJsonppath-times"]||[]).push([[0],{137:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(10),o=n.n(i),c=(n(86),n(87),n(138)),l=n(122),u=n(58),s=n.n(u),p=n(67),f=n(11),m=n(60),h=Object(r.createContext)({station:"",setStation:function(){return null}}),v=function(){return Object(r.useContext)(h)},d=function(t){var e=t.children,n=function(){var t=Object(m.b)("station",m.a),e=Object(f.a)(t,2),n=e[0],a=e[1],i=Object(r.useReducer)((function(t){return t+1}),0),o=Object(f.a)(i,2)[1];return{station:n,setStation:function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(e);case 2:return t.abrupt("return",o(0));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}(),i=n.station,o=n.setStation;return a.a.createElement(c.a,null,a.a.createElement(l.a,null,a.a.createElement(h.Provider,{value:{station:i,setStation:o}},e)))},b=n(50),j=n(176),O=n(182),g=n(181),E=["hoboken","newport","journal_square","grove_street","exchange_place","harrison","newark","world_trade_center","christopher_street","ninth_street","fourteenth_street","twenty_third_street","thirty_third_street"],y=function(){var t=v(),e=t.station,n=t.setStation;return a.a.createElement(r.Fragment,null,a.a.createElement(b.a,{variant:"overline"},"Select Station"),a.a.createElement(g.a,{native:!0,fullWidth:!0,variant:"outlined",value:e,onChange:function(t){return n(t.currentTarget.value)}},E.map((function(t){return a.a.createElement("option",{key:t,value:t},t.toUpperCase().split("_").join(" "))}))))},w=n(180),k=n(25),S=n(20),_=n(21),x=n(31),C=n(19),P=n(74),A=n(32);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var z=function(t){function e(){var t,n;Object(S.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(x.a)(this,(t=Object(C.a)(e)).call.apply(t,[this].concat(a)))).lineName="",n.lineColors=[],n.projectedArrival="",n.lastUpdated="",n.status="",n.headsign="",n.route="",n.routeDisplayName="",n.direction="",n}return Object(A.a)(e,t),Object(_.a)(e,[{key:"pk",value:function(){return this.lineName+this.projectedArrival}}],[{key:"listShape",value:function(){var t=this;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(n,!0).forEach((function(e){Object(k.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(P.a)(Object(C.a)(e),"listShape",this).call(this),{getFetchKey:function(t){var e=t.station;return"https://path.api.razza.dev/v1/stations/".concat(void 0===e?"hoboken":e,"/realtime")},fetch:function(e){var n=e.station,r=void 0===n?"hoboken":n;return t.fetch("get","https://path.api.razza.dev/v1/stations/".concat(r,"/realtime"))},schema:{upcomingTrains:[this.getEntitySchema()]}})}}]),e}(n(127).a);z.urlRoot="path-razza-api";var D=n(134),B=n(43),I=n(54),T=n(57),F=n(135);var W=n(177),J=n(178),R=n(179),U=n(59),q=n.n(U),H=Object(j.a)(Object(O.a)({root:{margin:"12px 0",padding:"0 12px"}})),K=function(t){var e=t.train,n=H(),r=q()(e.projectedArrival).diff(q()(),"minutes");return r<0&&(r=0),a.a.createElement(W.a,{classes:n},a.a.createElement(J.a,null,a.a.createElement(R.a,{title:e.lineName}),e.lineColors.map((function(t,e){return a.a.createElement("div",{key:"lc-".concat(e),style:{borderBottom:"4px solid ".concat(t)}})})),a.a.createElement(J.a,null,a.a.createElement("div",null,a.a.createElement(b.a,{variant:"h6",color:0!==r?"primary":"error"},"Arriving in: ",r," min"),a.a.createElement(b.a,null,"Status: ",e.status.replace("_"," ")),a.a.createElement(b.a,null,"Direction: ",e.direction.replace("_"," "))))))},$=function(){var t=v().station,e=function(t,e){var n=Object(D.a)(t,e),a=Object(r.useContext)(B.a.StateContext),i=Object(I.a)(t,e,a),o=Object(f.a)(i,2),c=o[0],l=o[1],u=Object(T.a)(t),s=e?function(){return u(e)}:function(){return null};return{data:c,loading:!function(t,e){return!(e.options&&e.options.invalidIfStale||!t)}(l,t)&&n&&"function"===typeof n.then,refetch:s,error:Object(F.a)(t,e,l)}}(z.listShape(),{station:t}),n=e.data,i=e.loading,o=e.refetch;Object(r.useEffect)((function(){var t=setInterval((function(){o()}),3e4);return function(){return clearInterval(t)}}),[t]);var c=n&&n.upcomingTrains;return c&&(c=c.slice().sort((function(t,e){return t.projectedArrival>e.projectedArrival?1:-1}))),i?a.a.createElement(w.a,null):a.a.createElement(r.Fragment,null,c?c.map((function(t,e){return a.a.createElement(K,{train:t,key:e})})):a.a.createElement(b.a,null,"No upcoming trains..."))},G=Object(j.a)(Object(O.a)({container:{backgroundColor:"#f5f5f5",display:"flex",justifyContent:"center",minHeight:"100vh"},width:{width:600,padding:12}})),L=function(){var t=G();return a.a.createElement("div",{className:t.container},a.a.createElement("div",{className:t.width},a.a.createElement(b.a,{variant:"h5",align:"center",gutterBottom:!0},"Path Times"),a.a.createElement(y,null),a.a.createElement($,null)))},M=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,null,a.a.createElement(L,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},81:function(t,e,n){t.exports=n(137)},86:function(t,e,n){},87:function(t,e,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.061f2fed.chunk.js.map